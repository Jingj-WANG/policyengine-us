- name: Househould with only head and spouse
  period: 2023
  input:
    people:
      person1:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: true
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: true
        is_tax_unit_head: false
        age: 65
    households:
      household:
        members: [person1, person2]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 0

- name: Househould with only disabled head 
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: true
        age: 65
    households:
      household:
        members: [person1]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 1_000

- name: Househould with only spouse 
  period: 2023
  input:
    people:
      person1:
        is_disabled: false
        is_tax_unit_spouse: true
        is_tax_unit_head: false
        age: 65
    households:
      household:
        members: [person1]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 0

- name: Four eligible people - capped at 3
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
      person3:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person4:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 3_000

- name: One eligible person
  period: 2023
  input:
    people:
      person1:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
    households:
      household:
        members: [person1, person2]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 1_000

- name: Four eligible people - capped at 3
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
      person3:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person4:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 3_000

- name: No eligible people
  period: 2023
  input:
    people:
      person1:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
    households:
      household:
        members: [person1, person2]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 0

- name: Head and Spouse are not eligible if aged
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: true
        age: 65
      person3:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person4:
        is_disabled: false
        is_tax_unit_spouse: true
        is_tax_unit_head: false
        age: 65
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 2_000

- name: Head and Spouse are not eligible if aged but are eligible if disabled
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: true
        age: 65
      person3:
        is_disabled: true
        is_tax_unit_spouse: true
        is_tax_unit_head: false
        age: 64
      person4:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: ID
  output:  
    id_aged_or_disabled_deduction: 3_000
