- name: One eligible person
  period: 2023
  input:
    people:
      person1:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 64
        care_and_support_payment: 0
        care_and_support_costs: 0
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
    households:
      household:
        members: [person1, person2]
        state_code: ID
    tax_units:
      tax_unit:
        members: [person1, person2]
        id_aged_or_disabled_deduction: 0
  output:  
    id_aged_or_disabled_credit: 100

- name: No eligible person as payment less than one-half of cost
  period: 2023
  input:
    people:
      person1:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
        care_and_support_payment: 0
        care_and_support_costs: 0
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        age: 65
        care_and_support_payment: 300
        care_and_support_costs: 1_000
    households:
      household:
        members: [person1, person2]
        state_code: ID
    tax_units:
      tax_unit:
        members: [person1, person2]
        id_aged_or_disabled_deduction: 0
  output:  
    id_aged_or_disabled_credit: 0

- name: One eligible person - claim deduction 
  period: 2023
  input:
    people:
      person1:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 0
        care_and_support_costs: 0
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
    households:
      household:
        members: [person1, person2]
        state_code: ID
    tax_units:
      tax_unit:
        members: [person1, person2]
        id_aged_or_disabled_deduction: 1000
  output:  
    id_aged_or_disabled_credit: 0

- name: Four eligible people - capped at 3
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
      person3:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 64
      person4:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: ID
    tax_units:
      tax_unit:
        members: [person1, person2]
        id_aged_or_disabled_deduction: 0
  output:  
    id_aged_or_disabled_credit: 300

- name: Head and Spouse are not eligible if aged
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: true
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
      person3:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 64
      person4:
        is_disabled: false
        is_tax_unit_spouse: true
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: ID
    tax_units:
      tax_unit:
        members: [person1, person2]
        id_aged_or_disabled_deduction: 0
  output:  
    id_aged_or_disabled_credit: 200

- name: Head and Spouse are not eligible if aged but are eligible if disabled
  period: 2023
  input:
    people:
      person1:
        is_disabled: true
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 64
      person2:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: true
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
      person3:
        is_disabled: true
        is_tax_unit_spouse: true
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 64
      person4:
        is_disabled: false
        is_tax_unit_spouse: false
        is_tax_unit_head: false
        care_and_support_payment: 600
        care_and_support_costs: 1_000
        age: 65
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: ID
    tax_units:
      tax_unit:
        members: [person1, person2]
        id_aged_or_disabled_deduction: 0
  output:  
    id_aged_or_disabled_credit: 300
